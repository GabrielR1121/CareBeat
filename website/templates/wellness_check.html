{% extends "base.html"%} {% block title %}Home{% endblock %} {% block subtitle %}How is {{resident.get_full_name()}}
feeling today?{%
endblock
%}

{% block content %}

<div class="container">
    <h1 class="mt-5">Wellness Check</h1>
    <form action="/submit-wellness-check" method="post" class="mt-3" id="wellness-form">
        <div class="form-group">
            <label for="feeling">How are you feeling today? (1 - 5)</label>

            <br />
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="feeling" id="feeling1" value="1" required>
                <label class="form-check-label" for="feeling1">1 Excellent</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="feeling" id="feeling2" value="2">
                <label class="form-check-label" for="feeling2">2 Very Good</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="feeling" id="feeling3" value="3">
                <label class="form-check-label" for="feeling3">3 Neutral</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="feeling" id="feeling4" value="4">
                <label class="form-check-label" for="feeling4">4 Fair</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="feeling" id="feeling5" value="5">
                <label class="form-check-label" for="feeling5">5 Poor</label>
            </div>
        </div>

        <div class="form-group">
            <label for="description">Brief description (optional):</label>
            <textarea class="form-control" name="description" rows="4"></textarea>
        </div>

        <h2 class="mt-3">
            <a href="javascript:void(0);" onclick="toggleVitals()">+Vitals</a>
        </h2>
        <div class="vitals-section">
            <div class="form-group">
                <label for="temperature">Temperature (Â°F):</label>
                <input type="number" class="form-control" step="0.01" name="temperature" placeholder="e.g., 98.6"
                    required>
            </div>
            <div class="form-group">
                <label for="weight">Weight (lbs):</label>
                <input type="number" class="form-control" step="0.01" name="weight" placeholder="e.g., 150" required>
            </div>
            <div class="form-group">
                <label for="systolic_bp">Systolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" name="systolic_bp" placeholder="e.g., 120" required>
            </div>
            <div class="form-group">
                <label for="diastolic_bp">Diastolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" name="diastolic_bp" placeholder="e.g., 80" required>
            </div>
            <div class="form-group">
                <label for="heart_rate">Heart Rate (bpm):</label>
                <input type="number" class="form-control" name="heart_rate" placeholder="e.g., 70" required>
            </div>
            <div class="form-group">
                <label for="glucose">Glucose Level (mg/dL):</label>
                <input type="number" class="form-control" name="glucose" placeholder="e.g., 100" required>
            </div>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Submit</button>
    </form>
</div>
<style>
    .vitals-section {
        display: none;
    }
</style>

<script>
    function toggleVitals() {
        var vitalsSection = document.querySelector(".vitals-section");
        if (vitalsSection.style.display === "none") {
            vitalsSection.style.display = "block";
        } else {
            vitalsSection.style.display = "none";
        }
    }

    // Add a submit event listener to the form for client-side validation
    const wellnessForm = document.getElementById("wellness-form");
    wellnessForm.addEventListener("submit", function (event) {
        const feeling = parseInt(document.querySelector('input[name="feeling"]:checked').value);
        const vitalsSection = document.querySelector(".vitals-section");

        // Check if feeling > 3 and vitals are not filled out
        if (feeling > 3 && vitalsSection.style.display === "none") {
            event.preventDefault(); // Prevent form submission
            alert("Please fill out the vitals for ratings greater than 3.");
        }
    });
</script>
</div>
{% endblock %}